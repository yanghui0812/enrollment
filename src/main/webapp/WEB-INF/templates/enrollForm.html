<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>上海商业会计学校</title>
	<meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76"  th:href="@{/img/apple-icon.png}" />
	<link rel="icon" type="image/png" th:src="@{/img/favicon.png}" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />
	<link th:href="@{/css/bootstrap.min.css}" rel='stylesheet' type='text/css'/>
	<link th:href="@{/css/material-icons.css}" rel='stylesheet' type='text/css'>
    <link th:href="@{/css/main.min.css}" rel='stylesheet' type='text/css'/>
</head>

<body>
	<div class="wrapper">
	    <div class="sidebar" data-color="green" th:data-image="@{/img/sidebar.jpg}">

			<div class="logo">
				<a href="#" class="logo-img">
					上海商业会计学校
				</a>
			</div>
	    	<div class="sidebar-wrapper">
	            <ul class="nav">
	                <li class="active">
	                    <a href="index.html">
	                        <i class="material-icons">home</i>
	                        <p>首页</p>
	                    </a>
	                </li>
                    <li class="">
	                    <a th:href="@{/forms/.html}">
	                        <i class="material-icons">create</i>
	                        <p>设计表单</p>
	                    </a>
	                </li>
                    <li class="">
	                    <a th:href="@{/forms.html}">
	                        <i class="material-icons">assignment</i>
	                        <p>所有表单</p>
	                    </a>
	                </li>
                    <li class="">
	                    <a th:href="@{/manage/enrolls.html}">
	                        <i class="material-icons">dashboard</i>
	                        <p>报名列表</p>
	                    </a>
	                </li>
	            </ul>
	    	</div>
		</div>

	    <div class="main-panel">
			<nav class="navbar navbar-transparent navbar-absolute">
				<div class="container-fluid">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse">
							<span class="sr-only">切换菜单</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="#"><i class="material-icons">account_circle</i>&nbsp;&nbsp;报名列表</a>
					</div>
				</div>
			</nav>

	        <div class="content">
	            <div class="container-fluid">
	                <div class="row">
                        <div class="col-md-12">
	                        <div class="card">
	                            <div class="card-header" data-background-color="green">
	                                <h4 class="title">详细信息</h4>
									<p class="category">请填写您的信息</p>
	                            </div>
	                            <div class="card-content">
	                              <input type="hidden" name="checkUniqueKey" th:value="@{/public/checkUniqueKey}">
	                              <input type="hidden" name="existingEnroll" th:value="@{/public/enroll.html}">
	                              <form id="enrollForm" th:action="@{/public/enroll.html}" method="POST">
	                                <input type="hidden" name="formId"               th:value="${formMeta.formId}">
							        <input type="hidden" name="registerId"           th:value="${enroll.registerId}"      th:if="${enroll != null}">
							        <input type="hidden" name="registerDateStr"      th:value="${enroll.registerDateStr}" th:if="${enroll != null}">
							        <input type="hidden" name="modifiedDateStr"      th:value="${enroll.modifiedDateStr}" th:if="${enroll != null}">
							        <input type="hidden" name="status"               value="draft">
	                                    <div class="row">
	                                        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">姓名</label>
													<input name="applicantName" th:value="${enroll != null} ? ${enroll.applicantName} : ''" class="form-control">
												</div>
	                                        </div>	                                        
	                                        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">电话</label>
													<input type="phone" name="phoneNumber" th:value="${enroll != null} ? ${enroll.phoneNumber} : ''"  class="form-control">
												</div>
	                                        </div>
	                                    </div>
	                                    <div class="row">
	                                        <div class="col-md-12">
												<div class="form-group label-floating">
													<label class="control-label">身份证号</label>
													<input name="id" th:value="${enroll != null} ? ${enroll.id} : ''" class="form-control">
												</div>
	                                        </div>
	                                    </div>
	                   				 <div class="row" th:each="fieldArray, row: ${formMeta.pageFields}">
	                                        <div class="col-md-6" th:each="fieldMeta, stat : ${fieldArray}" th:with="fieldIndex=${formMeta.fieldIndex}">
	                                           <input type="hidden" th:name="'fieldValueList[' + ${fieldIndex} + '].fieldId'"       th:value="${fieldMeta.fieldId}">
						                       <input type="hidden" th:name="'fieldValueList[' + ${fieldIndex} + '].formId'"        th:value="${formMeta.formId}">
						                       <input type="hidden" th:name="'fieldValueList[' + ${fieldIndex} + '].fieldName'"     th:value="${fieldMeta.name}">
								  			   <div th:if="${fieldMeta.isText()}" class="form-group label-floating">
											   		<label class="control-label" th:text="${fieldMeta.label}"></label>
											   		<input type="hidden" class = "uniqueKey" th:value="${fieldMeta.fieldId}" th:if="${fieldMeta.isUniqueKey()}">
											        <input  th:class="${fieldMeta.CssClass} + 'form-control'" th:name="'fieldValueList[' + ${fieldIndex} + '].fieldValue'" th:value="${fieldMeta.inputFieldValue}">
											   </div>
											   <div th:if="${fieldMeta.isSelect()}" class="form-group label-floating">
											   		<label class="control-label" th:text="${fieldMeta.label}"></label>
											   		<input type="hidden" class = "uniqueKey" th:value="${fieldMeta.fieldId}" th:if="${fieldMeta.isUniqueKey()}">
							                        <select th:name="'fieldValueList[' + ${fieldIndex} + '].fieldValue'" class="form-control">
								                        <option th:each="option, s : ${fieldMeta.options}" th:value="${option.value}" th:text="${option.label}" th:selected="${option.isChecked()}"/>
							                        </select>
							                   </div>
							                   <div th:if="${fieldMeta.isCheckboxGroup()}" class="form-group label-floating">
							                  		<label class="control-label" th:text="${fieldMeta.label}"></label>
							                  		<input type="hidden" class = "uniqueKey" th:value="${fieldMeta.fieldId}" th:if="${fieldMeta.isUniqueKey()}">
							                        <label th:each="option, s : ${fieldMeta.options}">
														<input th:value="${option.value}" class="form-control" type="checkbox" th:name="'fieldValueList[' + ${fieldIndex} + '].fieldValue'" th:checked="${option.isChecked()}">
														<span th:text="${option.label}"></span>
													</label>
							                   </div>
							                   <div th:if="${fieldMeta.isRadioGroup()}" class="form-group label-floating">
							                   		<label class="control-label" th:text="${fieldMeta.label}"></label>
							                   		<input type="hidden" class = "uniqueKey" th:value="${fieldMeta.fieldId}" th:if="${fieldMeta.isUniqueKey()}">
							                        <label th:each="option, s : ${fieldMeta.options}">
							                            <input th:value="${option.value}" class="form-control" type="radio" th:name="'fieldValueList[' + ${fieldIndex} + '].fieldValue'" th:checked="${option.isChecked()}">
							                            <span th:text="${option.label}"></span>
							                        </label>
							                   </div>
							                   <div th:if="${fieldMeta.isTextarea()}" class="form-group label-floating">
							                 		<label class="control-label" th:text="${fieldMeta.label}"></label>
							                 		<input type="hidden" class = "uniqueKey" th:value="${fieldMeta.fieldId}" th:if="${fieldMeta.isUniqueKey()}">
							                        <input class="xlarge form-control" th:name="'fieldValueList[' + ${fieldIndex} + '].fieldValue'">
									           </div>
		                                  </div>
		                              </div>
		                                <span style="color:red" id="message"></span>
		                                <button type="button" class="btn btn-success pull-right register">提交信息</button>
		                             	<button type="button" class="btn btn-info pull-right save">暂存信息</button>
		                             	<button type="button" class="btn btn-info pull-right gotoanother" style="display:none;" data-id="">去那个报名信息</button>
	                                    <div class="clearfix"></div>
	                                </form>
	                            </div>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
            <footer class="footer">
	            <div class="container-fluid">
	                <p class="copyright">
	                    &copy; 2017 <a href="#">上海商业会计学校</a>
	                </p>
	            </div>
	        </footer>
	    </div>
	</div>
	<script th:src="@{/js/jquery-3.1.0.min.js}" type="text/javascript"></script>
	<script th:src="@{/js/bootstrap.min.js}" type="text/javascript"></script>
	<script th:src="@{/js/material.min.js}" type="text/javascript"></script>
	<script th:src="@{/js/lib/jquery.validate.js}" type="text/javascript"></script>
	<script th:src="@{/js/enroll.js}" type="text/javascript"></script>
	<script th:src="@{/js/main.min.js}"></script>
	<script type="text/javascript">
		document.getElementById('datePicker').valueAsDate = new Date();
	</script>
</body>
</html>
